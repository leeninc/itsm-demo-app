<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leen ITSM Ticket Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="css/demo.css" rel="stylesheet">
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <img src="leen-logo.png" alt="Leen" class="h-8 w-8">
                    <span class="ml-3 text-xl font-semibold text-gray-900">ITSM Ticket Demo</span>
                </div>
                <div id="config-status" class="flex items-center">
                    <!-- Config status indicator will be inserted here -->
                </div>
            </div>
        </div>
    </header>

    <!-- Configuration Panel (initially hidden, shown if config not found) -->
    <div id="config-panel" class="hidden">
        <!-- Config form will be inserted here by JS -->
    </div>

    <!-- Main Content -->
    <main id="main-content" class="max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8 hidden">
        <!-- Loading Spinner -->
        <div id="loading-spinner" class="hidden fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <div class="flex items-center space-x-3">
                    <div class="spinner"></div>
                    <span class="text-gray-700">Loading...</span>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="border-b border-gray-200 mb-6">
            <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                <button data-tab="alerts" class="tab-button border-b-2 py-4 px-1 text-sm font-medium border-sky-500 text-sky-600">
                    Security Alerts
                </button>
                <button data-tab="create" class="tab-button border-b-2 py-4 px-1 text-sm font-medium border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                    Create Ticket
                </button>
                <button data-tab="manage" class="tab-button border-b-2 py-4 px-1 text-sm font-medium border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                    Manage Tickets
                </button>
                <button data-tab="docs" class="tab-button border-b-2 py-4 px-1 text-sm font-medium border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                    API Reference
                </button>
            </nav>
        </div>

        <!-- Tab Content (dynamically rendered) -->
        <div id="tab-content">
            <!-- Content will be rendered by JavaScript -->
        </div>
    </main>

    <!-- Activity Log (fixed at bottom) -->
    <div id="activity-log" class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg" style="max-height: 150px;">
        <div class="max-w-7xl mx-auto px-4 py-3 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between mb-2">
                <h3 class="text-sm font-semibold text-gray-900">Activity Log</h3>
                <button id="toggle-activity-log" onclick="toggleActivityLog()" class="text-sm text-gray-500 hover:text-gray-700">
                    Hide
                </button>
            </div>
            <div id="activity-log-content" class="space-y-1 text-xs overflow-y-auto" style="max-height: 100px;">
                <!-- Activity log entries will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Show Activity Log Button (appears when log is hidden) -->
    <button id="show-activity-log" onclick="toggleActivityLog()" class="hidden fixed bottom-4 right-4 bg-sky-500 hover:bg-sky-600 text-white px-4 py-2 rounded-lg shadow-lg text-sm font-medium">
        Show Activity Log
    </button>

    <script>
        function toggleActivityLog() {
            const log = document.getElementById('activity-log');
            const showBtn = document.getElementById('show-activity-log');
            const toggleBtn = document.getElementById('toggle-activity-log');

            if (log.classList.contains('hidden')) {
                log.classList.remove('hidden');
                showBtn.classList.add('hidden');
            } else {
                log.classList.add('hidden');
                showBtn.classList.remove('hidden');
            }
        }
    </script>

    <script type="module" src="js/main.js"></script>
</body>
</html>
